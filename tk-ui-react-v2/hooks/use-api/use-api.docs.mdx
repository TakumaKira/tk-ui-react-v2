---
description: 'A useApi React Hook.'
labels: ['hook', 'react']
---

A react hook for getting data from API.

## Get started

Install and use the hook in your components:

```tsx
export default function MyComponent() {
  const [postId, setPostId] = useState<number>(1)
  const { isLoading, data, isError, apiError } = useApi(['dataKey', { postId }], (postId: number) => () => fetch(`https://jsonplaceholder.typicode.com/posts/${postId ?? ''}`));
  return (
    <div>
      <button onClick={() => setPostId(id => id + 1)}>Next post</button>
      {isLoading && <span>Loading...</span>}
      {apiError && <span>{apiError.response}</span>}
      {data?.title && <h3>{data.title}</h3>}
      {data?.body && <p>{data.body}</p>}
    </div>
  );
}
```
